<ion-content [fullscreen]="true" color="primary">
  <div class="top-center">
    <ion-card>
      <ion-card-header>
        <ion-card-title>{{userName}} </ion-card-title>
        <ion-card-subtitle>Credits: ${{credits}}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <div *ngIf="topUp">
          <form [formGroup]="amountForm">
            <ion-input
              type="tel"
              label="Amount: "
              color="primary"
              fill="solid"
              value=""
              formControlName="amount"
              errorText="Top-up can be only positive"
            ></ion-input>
          </form>
          <ion-button color="warning" size="block" (click)="topUpCredit()"
            >Send money</ion-button
          >
        </div>
        <ion-button color="primary" size="block" (click)="topUp=!topUp"
          >{{topUp ? 'Cancel' : 'Top-up credits'}}</ion-button
        >
      </ion-card-content>
    </ion-card>
    <ion-card *ngIf="boughtItems?.length">
      <ion-card-title>Sold items</ion-card-title>
      <div *ngFor="let item of boughtItems">
        <h3 style="margin-bottom: 0">{{ item.name}}</h3>
        <p style="margin-top: 0">
          {{ item.buyer!.name}} / {{ item.buyer!.email}}
        </p>
      </div>
    </ion-card>
    <ion-card *ngIf="soldItems?.length">
      <ion-card-title>Sold items</ion-card-title>
      <div *ngFor="let item of soldItems">
        <h3 style="margin-bottom: 0">{{ item.name}}</h3>
        <p style="margin-top: 0">
          {{ item.buyer!.name}} / {{ item.buyer!.email}}
        </p>
      </div>
    </ion-card>
  </div>
</ion-content>
